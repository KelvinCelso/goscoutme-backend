// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model Profiles {
  id             Int                      @id @default(autoincrement())
  public_id      String                   @unique @default(uuid())
  first_name     String
  last_name      String
  email          String
  sex            UserSexOptions           @default(NOT_SPECIEFIED)
  birt_date      DateTime
  account_status UserAccountStatusOptions @default(INATIVE)
  nationality    CountriesOptions         @default(NOT_SPECIEFIED)
  citzenship     CountriesOptions         @default(NOT_SPECIEFIED)
  sport_id       Int?
  phone          String?
  mobile         String?
  address        String?
  sport          Sports?                  @relation(fields: [sport_id], references: [id], onDelete: SetNull)
  athlete        UserAthleteProfile?
  scout          UserScoutProfile?
}

model UserAthleteProfile {
  id             Int                  @id @default(autoincrement())
  profile_id     Int                  @unique
  profile        Profiles             @relation(fields: [profile_id], references: [id], onDelete: Cascade)
  birth_country  CountriesOptions     @default(NOT_SPECIEFIED)
  citzenship     String
  age            Int
  height         Float
  height_metric  HeightOptions        @default(CM)
  weight         Float
  weight_metric  WeightOptions        @default(KG)
  address        String
  phone          String
  mobile         String
  status         AthleteStatusOptions @default(NOT_SPECIEFIED)
  leagues_played String?
  guardians      UserGuardian[]
  appointmenst   UserAppointments[]
}

model UserScoutProfile {
  id              Int                @id @default(autoincrement())
  profile_id      Int                @unique
  profile         Profiles           @relation(fields: [profile_id], references: [id], onDelete: Cascade)
  address         String
  phone           String
  mobile          String
  organization_id Int
  organization    UserOrganization?
  affiliations    String[]
  appointmenst    UserAppointments[]
}

model UserGuardian {
  id           Int                @id @default(autoincrement())
  name         String
  relationship String
  profile_id   Int
  profile      UserAthleteProfile @relation(fields: [profile_id], references: [id], onDelete: Cascade)
  concent_form String
}

model Sports {
  id        Int                @id @default(autoincrement())
  public_id String             @unique @default(uuid())
  name      String
  attibutes SportsAttributes[]
  user      Profiles[]
}

model SportsAttributes {
  id       Int    @id @default(autoincrement())
  name     String
  sport_id Int
  sport    Sports @relation(fields: [sport_id], references: [id], onDelete: Cascade)
}

model UserOrganization {
  id           Int              @id @default(autoincrement())
  public_id    String           @unique @default(uuid())
  name         String
  email        String
  phone        String?
  mobile       String?
  document_url String
  profile_id   Int              @unique
  profile      UserScoutProfile @relation(fields: [profile_id], references: [id], onDelete: Cascade)
}

model UserMedia {
  id        Int          @id @default(autoincrement())
  public_id String       @unique @default(uuid())
  name      String
  type      MediaOptions
  media_url String
}

model UserAppointments {
  athlete_id  Int
  scout_id    Int
  title       String
  description String
  duration    String
  scheduled   DateTime
  athlete     UserAthleteProfile @relation(fields: [athlete_id], references: [id], onDelete: Cascade)
  scout       UserScoutProfile   @relation(fields: [scout_id], references: [id], onDelete: Cascade)

  @@id([athlete_id, scout_id])
}

enum UserSexOptions {
  NOT_SPECIEFIED
  MALE
  FEMALE
}

enum CountriesOptions {
  NOT_SPECIEFIED
  AFGHANISTAN
  ALBANIA
  ALGERIA
  ANDORRA
  ANGOLA
  ANTIGUA_AND_BARBUDA
  ARGENTINA
  ARMENIA
  AUSTRALIA
  AUSTRIA
  AZERBAIJAN
  BAHAMAS
  BAHRAIN
  BANGLADESH
  BARBADOS
  BELARUS
  BELGIUM
  BELIZE
  BENIN
  BHUTAN
  BOLIVIA
  BOSNIA_AND_HERZEGOVINA
  BOTSWANA
  BRAZIL
  BRUNEI
  BULGARIA
  BURKINA_FASO
  BURUNDI
  CABO_VERDE
  CAMBODIA
  CAMEROON
  CANADA
  CENTRAL_AFRICAN_REPUBLIC
  CHAD
  CHILE
  CHINA
  COLOMBIA
  COMOROS
  CONGO_DEMOCRATIC_REPUBLIC
  CONGO_REPUBLIC
  COSTA_RICA
  CROATIA
  CUBA
  CYPRUS
  CZECH_REPUBLIC
  DENMARK
  DJIBOUTI
  DOMINICA
  DOMINICAN_REPUBLIC
  EAST_TIMOR
  ECUADOR
  EGYPT
  EL_SALVADOR
  EQUATORIAL_GUINEA
  ERITREA
  ESTONIA
  ESWATINI
  ETHIOPIA
  FIJI
  FINLAND
  FRANCE
  GABON
  GAMBIA
  GEORGIA
  GERMANY
  GHANA
  GREECE
  GRENADA
  GUATEMALA
  GUINEA
  GUINEA_BISSAU
  GUYANA
  HAITI
  HONDURAS
  HUNGARY
  ICELAND
  INDIA
  INDONESIA
  IRAN
  IRAQ
  IRELAND
  ISRAEL
  ITALY
  IVORY_COAST
  JAMAICA
  JAPAN
  JORDAN
  KAZAKHSTAN
  KENYA
  KIRIBATI
  KOSOVO
  KUWAIT
  KYRGYZSTAN
  LAOS
  LATVIA
  LEBANON
  LESOTHO
  LIBERIA
  LIBYA
  LIECHTENSTEIN
  LITHUANIA
  LUXEMBOURG
  MADAGASCAR
  MALAWI
  MALAYSIA
  MALDIVES
  MALI
  MALTA
  MARSHALL_ISLANDS
  MAURITANIA
  MAURITIUS
  MEXICO
  MICRONESIA
  MOLDOVA
  MONACO
  MONGOLIA
  MONTENEGRO
  MOROCCO
  MOZAMBIQUE
  MYANMAR
  NAMIBIA
  NAURU
  NEPAL
  NETHERLANDS
  NEW_ZEALAND
  NICARAGUA
  NIGER
  NIGERIA
  NORTH_KOREA
  NORTH_MACEDONIA
  NORWAY
  OMAN
  PAKISTAN
  PALAU
  PALESTINE
  PANAMA
  PAPUA_NEW_GUINEA
  PARAGUAY
  PERU
  PHILIPPINES
  POLAND
  PORTUGAL
  QATAR
  ROMANIA
  RUSSIA
  RWANDA
  SAINT_KITTS_AND_NEVIS
  SAINT_LUCIA
  SAINT_VINCENT_AND_THE_GRENADINES
  SAMOA
  SAN_MARINO
  SAO_TOME_AND_PRINCIPE
  SAUDI_ARABIA
  SENEGAL
  SERBIA
  SEYCHELLES
  SIERRA_LEONE
  SINGAPORE
  SLOVAKIA
  SLOVENIA
  SOLOMON_ISLANDS
  SOMALIA
  SOUTH_AFRICA
  SOUTH_KOREA
  SOUTH_SUDAN
  SPAIN
  SRI_LANKA
  SUDAN
  SURINAME
  SWEDEN
  SWITZERLAND
  SYRIA
  TAIWAN
  TAJIKISTAN
  TANZANIA
  THAILAND
  TOGO
  TONGA
  TRINIDAD_AND_TOBAGO
  TUNISIA
  TURKEY
  TURKMENISTAN
  TUVALU
  UGANDA
  UKRAINE
  UNITED_ARAB_EMIRATES
  UNITED_KINGDOM
  UNITED_STATES
  URUGUAY
  UZBEKISTAN
  VANUATU
  VATICAN_CITY
  VENEZUELA
  VIETNAM
  YEMEN
  ZAMBIA
  ZIMBABWE
}

enum MediaOptions {
  VIDEO
  IMAGE
}

enum HeightOptions {
  CM
  FT
}

enum WeightOptions {
  KG
  LB
}

enum AthleteStatusOptions {
  NOT_SPECIEFIED
  PROFESSIONAL
  AMATEUR
}

enum UserAccountStatusOptions {
  ACTIVE
  INATIVE
}
